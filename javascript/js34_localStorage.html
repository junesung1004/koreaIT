<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <input type="text" id="입력값" />
    <button id="저장">저장하기</button>
    <button id="추가">추가하기</button>
    <script>
      //무언가 저장하고 싶다면 '변수'
      //let 변수 = "저장하고 싶은 글자를 변수에 할당해줘";

      // 페이지를 새로고침 하거나 새로 열었을때도 유지하고 싶은 데이터가 있다?
      // 웹에서 제공하는 localStroage 를 활용할 수 있음.
      //변수 = localStorage.getItem("이름");
      //console.log(변수);

      //localStorage.setItem("키", "170.0");
      //localStorage.removeItem("키");

      document.getElementById("저장").addEventListener("click", () => {
        //input에 입력된 값을 변수로 받아서
        // setItem의 값에 대입
        let 입력값 = document.querySelector("#입력값").value;
        localStorage.setItem("이름", 입력값);

        alert(`이름이 ${입력값} 으로 변경되었습니다.`);
        document.querySelector("#입력값").value = "";
      });

      //JSON문자열 : 웹에서 배열이나 개게를 사용하기 위한 문자열 형식
      // 배열, 객체 => JSON으로 변경해서 웹에 적용
      // 배열(객체) -> JSON문자열
      변수 = [1, 2, 3];
      변수 = JSON.stringify(변수); // 배열(객체) -> JSON문자열 (웹에서 사용하기 위해)
      console.log(변수);

      let json문자열 = "{}";
      JSON.parse(json문자열); // JSON문자열 -> 배열(객체) (자바스크립트 변수로 사용하기 위해)

      document.getElementById("추가").addEventListener("click", () => {
        let 임시변수 = localStorage.getItem("저장값"); // [1,2,3]
        //배열에 값을 하나 더 추가한다음 json문자열로 바꿔서 setItem
        임시변수 = JSON.parse(임시변수); // json글자형식 -> 배열
        //여기서 배열 뒷부분에 값을 추가

        //배열에서 마지막 부분에 값을 하나씩 늘려서 추가한다.

        const 마지막숫자증가 = 임시변수[임시변수.length - 1] + 1;
        임시변수.push(마지막숫자증가);

        임시변수 = JSON.stringify(임시변수); // 배열 -> JSON글자형식
        localStorage.setItem("저장값", 임시변수); // 덮어쓰기
      });
    </script>
  </body>
</html>
